<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Relatório Simples</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2 {
            text-align: center;
            color: #333;
        }
        .botoes {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }
        .botoes button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
            width: 45%; /* Ajuste para ter espaço entre eles */
        }
        #btnProcedente {
            background-color: #4CAF50; /* Verde */
            color: white;
        }
        #btnProcedente:hover {
            background-color: #45a049;
        }
        #btnImprocedente {
            background-color: #f44336; /* Vermelho */
            color: white;
        }
        #btnImprocedente:hover {
            background-color: #da190b;
        }
        #relatorio {
            width: 100%;
            height: 150px;
            padding: 10px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical; /* Permite redimensionar verticalmente */
            font-family: monospace;
            white-space: pre-wrap; /* Mantém a formatação de nova linha e espaço */
            background-color: #e9e9e9;
        }
        #copiarRelatorio {
            display: block;
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background-color: #008CBA; /* Azul */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        #copiarRelatorio:hover {
            background-color: #005f7a;
        }
        .contador-label {
            text-align: center;
            font-weight: bold;
            margin-top: 5px;
        }
        .mensagem {
            text-align: center;
            margin-top: 10px;
            color: green;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Contador e Gerador de Relatório</h1>

    <div class="botoes">
        <div>
            <button id="btnProcedente">Procedente</button>
            <div class="contador-label">Contador: <span id="contadorProcedente">0</span></div>
        </div>
        <div>
            <button id="btnImprocedente">Improcedente</button>
            <div class="contador-label">Contador: <span id="contadorImprocedente">0</span></div>
        </div>
    </div>

    <h2>Relatório</h2>
    <textarea id="relatorio" readonly></textarea>

    <button id="copiarRelatorio">Copiar Relatório</button>

    <p class="mensagem" id="mensagemCopia"></p>
</div>

<script>
    // Variáveis para armazenar as contagens
    let countProcedente = 0;
    let countImprocedente = 0;

    // Elementos do DOM
    const btnProcedente = document.getElementById('btnProcedente');
    const btnImprocedente = document.getElementById('btnImprocedente');
    const displayProcedente = document.getElementById('contadorProcedente');
    const displayImprocedente = document.getElementById('contadorImprocedente');
    const relatorioArea = document.getElementById('relatorio');
    const btnCopiar = document.getElementById('copiarRelatorio');
    const mensagemCopia = document.getElementById('mensagemCopia');

    // Função para atualizar o relatório
    function atualizarRelatorio() {
        const dataAtual = new Date().toLocaleDateString('pt-BR');
        const horaAtual = new Date().toLocaleTimeString('pt-BR');

        const relatorioTexto = `
Relatório Gerado em: ${dataAtual} às ${horaAtual}

Contagem de Procedentes: ${countProcedente}
Contagem de Improcedentes: ${countImprocedente}

Total de Itens Contados: ${countProcedente + countImprocedente}
        `.trim(); // O .trim() remove espaços/linhas em branco extras no início/fim

        relatorioArea.value = relatorioTexto;
    }

    // Função para incrementar o contador Procedente
    function incrementarProcedente() {
        countProcedente++;
        displayProcedente.textContent = countProcedente;
        atualizarRelatorio();
    }

    // Função para incrementar o contador Improcedente
    function incrementarImprocedente() {
        countImprocedente++;
        displayImprocedente.textContent = countImprocedente;
        atualizarRelatorio();
    }

    // Função para copiar o texto do relatório
    function copiarRelatorio() {
        relatorioArea.select(); // Seleciona o texto na textarea
        relatorioArea.setSelectionRange(0, 99999); // Para mobile
        
        // Tenta usar a API Clipboard (mais moderna)
        navigator.clipboard.writeText(relatorioArea.value).then(() => {
            mensagemCopia.textContent = 'Relatório copiado para a área de transferência!';
            setTimeout(() => {
                mensagemCopia.textContent = '';
            }, 3000);
        }).catch(err => {
            // Fallback para document.execCommand() (mais antiga, pode estar obsoleta)
            try {
                document.execCommand('copy');
                mensagemCopia.textContent = 'Relatório copiado para a área de transferência! (Método antigo)';
                setTimeout(() => {
                    mensagemCopia.textContent = '';
                }, 3000);
            } catch (err) {
                mensagemCopia.textContent = 'Erro ao copiar. Por favor, selecione o texto e use Ctrl+C.';
            }
        });
    }

    // Adiciona os event listeners aos botões
    btnProcedente.addEventListener('click', incrementarProcedente);
    btnImprocedente.addEventListener('click', incrementarImprocedente);
    btnCopiar.addEventListener('click', copiarRelatorio);

    // Inicializa o relatório ao carregar a página
    atualizarRelatorio();
</script>

</body>
  </html>

